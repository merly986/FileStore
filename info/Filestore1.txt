/filestore
POST
создание нового файла
в теле сам файл
сервер считает размер, генерирует GUID ключ и GUID ключ хозяина, записывает в files
генерирует два GUID и разбивает его на части по дефисам, это будет путь для двух частей файла, записывает в paths
разрезает файл на две части, сохраняет в файловой структуре
результат действия записывает в logs
возвращает json с информацией (как fileinfo)

/filestore/N
DELETE
Удаление файла по ключу, при наличии GUID ключа хозяина

/filestore/N
GET
Получение файла, вызывается скачивание

/fileinfo/N
GET
получение json, с информацией о файле

*****************************************************************************
- АСИНХРОННЫЙ? rest  с эндпоинтами
- fileinfo GET возвращает json через модель
- filestore DELETE 
	-проверяет, есть ли в параметрах ИД и owner_key
	-находит в БД, что совпадают
	-проставляет date_expire у файла
- чистильщик:
	- функция, которая находит в БД файлы, помеченные на date_expire и без date_delete и их пути
		-в логе смотрит последнюю запись на отработку
	- Питон скрипт, который вызывает функцию, проходит по полученным путям и зачищает файлы, 
		проставляет date_delete	
		записывает в лог, что удалил
	- удаляет временные файлы, по которым в логе есть запись, что они переданы

- filestore POST получает и складывает в сгенерированную временную папку файл
- разделение файла
	получает путь к файлу в temp
	считает общий размер файла
	решает, на сколько частей резать, считает размер куска
	генерирует столько GUID путей, сколько надо, сохраняет в сет
	создает все пути
	циклом по сету, копирует чанки от исходного файла в нужные пути
	удаляет исходный файл
	возвращает сет имя_файла:путь в правильном порядке (размер кусков не нужен)
-полученный сет = пути сохраняем в БД
-записываем в лог факт создания файла
-возвращаем json с ИД файла и owner_key

- filestore GET отдача файла
	- получает из базы набор путей, собирает из них сет
	- генерирует временную папку и временное имя файла
	- процедура сборки
		получает сет имя_файла:путь в правильном порядке, имя и путь (временная папка) куда положить результат
		циклом по сету, соединяет файлы в один
	- полученный файл отдает клиенту
	- записывает в лог (включая путь временного файла)
	- временный файл удалит чистильщик
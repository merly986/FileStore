C:\Users\Akbaa\filestore
https://django.fun/ru/articles/tutorials/sozdajte-rest-api-za-30-minut-s-pomoshyu-django-rest-framework/
/filestore/admin
	в админке можно посмотреть логи

/filestore/upload
POST
создание нового файла
в теле сам файл
сервер считает размер, генерирует GUID ключ и GUID ключ хозяина, записывает в files
генерирует два GUID и разбивает его на части по дефисам, это будет путь для двух частей файла, записывает в paths
разрезает файл на две части, сохраняет в файловой структуре
результат действия записывает в logs
возвращает json с информацией (как fileinfo)

получает и складывает в сгенерированную временную папку файл
- разделение файла
	получает путь к файлу в temp
	считает общий размер файла
	решает, на сколько частей резать, считает размер куска
	генерирует столько GUID путей, сколько надо, сохраняет в сет
	создает все пути
	циклом по сету, копирует чанки от исходного файла в нужные пути
	удаляет исходный файл
	возвращает сет имя_файла:путь в правильном порядке (размер кусков не нужен)
-полученный сет = пути сохраняем в БД
-записываем в лог факт создания файла
-возвращаем json с ИД файла и owner_key


/filestore/{UUID}/delete?key={UUID}
action
param owner_key
Удаление файла по ключу, при наличии GUID ключа хозяина
	-проставляет ts_deleted у файла

/filestore/{UUID}/download
action
???делать какой параметр, чтобы случайно не скачивалось?
	- получает из базы набор путей, собирает из них сет
	- генерирует временную папку и временное имя файла
	- процедура сборки
		получает сет имя_файла:путь в правильном порядке, имя и путь (временная папка) куда положить результат
		циклом по сету, соединяет файлы в один
	- полученный файл отдает клиенту
	- записывает в лог (включая путь временного файла)
	- временный файл потом удалит чистильщик

/filestore/{UUID}/info
action
получение json, с информацией о файле

БАЗА ДАННЫХ
fs_file
fs_path
fs_log
безопасность:
	file_store_user трастед видит все ключи владельцев?

процедура чистильщик:
	- функция, которая находит в БД файлы, помеченные на date_expire и без date_delete и их пути
		-в логе смотрит последнюю запись на отработку
	- Питон скрипт, который вызывает функцию, проходит по полученным путям и зачищает файлы, 
		проставляет date_delete	
		записывает в лог, что удалил
	- удаляет временные файлы, по которым в логе есть запись, что они переданы
	